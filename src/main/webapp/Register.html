<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #87ceeb; /* Sky Blue */
    }
    .form-container {
      background-color: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
    <!-- Error message container -->
    <div id="errorMessage" style="display: none;">
        <!-- Error message will be displayed here -->
    </div>
<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="form-container">
        <h2 class="mb-4">Register</h2>
        <form action="RegisterServlets" method="post">
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="firstname" class="form-label">First Name</label>
              <input type="text" class="form-control" id="firstname" name="firstname" required>
            </div>
            <div class="col-md-6">
              <label for="lastname" class="form-label">Last Name</label>
              <input type="text" class="form-control" id="lastname" name="lastname" required>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="username" class="form-label">Username</label>
              <input type="text" class="form-control" id="username" name="username" required>
            </div>
            <div class="col-md-6">
              <label for="birthday" class="form-label">Birthday</label>
              <input type="date" class="form-control" id="birthday" name="dob" required>
            </div>
          </div>
          <div class="row mb-3">
	<div class="mb-3 gender-label">Gender</div>
        <div class="mb-3 form-check form-check-inline">
          <input class="form-check-input"  type="radio" name="gender" id="male" value="male">
          <label  class="form-check-label" for="male">Male</label>
        </div>
        <div class="mb-3 form-check form-check-inline">
          <input class="form-check-input" type="radio" name="gender" id="female" value="female">
          <label class="form-check-label" for="female">Female</label>
        </div>
        <div class="mb-3 form-check form-check-inline">
          <input class="form-check-input" type="radio" name="gender" id="other" value="other">
          <label class="form-check-label" for="other">Other</label>
        </div>
            <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" name="email" required>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="phonenumber" class="form-label">Phone Number</label>
              <input type="tel" class="form-control" id="phonenumber" name="phonenumber" required>
            </div>
			<div class="col-md-6">
			    <label for="subject" class="form-label">Subject</label>
			    <select class="form-select" id="subject" name="subject" required>
			        <option value="">Select Subject</option>
			        <option value="Maths">Maths</option>
			        <option value="Science">Science</option>
			        <option value="IT" selected>IT</option>
			        <option value="Other">Other</option>
			    </select>
			</div>

          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="password" class="form-label">Password</label>
              <input type="password" class="form-control" id="password" name="password" required>
            </div>
            <div class="col-md-6">
              <label for="repassword" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" id="repassword" name="repassword" required>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Register</button>
        </form>
      </div>
    </div>
  </div>
</div>





</body>
<script>
    // Retrieve the error parameter from the URL
    const urlParams = new URLSearchParams(window.location.search);
    const error = urlParams.get('error');

    // Check if the error parameter indicates a username already exists
    if (error === 'username_exists') {
        // Display a pop-up message
        alert('Username already exists. Please choose a different username.');
    }
    
    
 // Retrieve the error parameter from the URL
    const urlParams1 = new URLSearchParams(window.location.search);
    const error1 = urlParams.get('error');

    // Check if the error parameter indicates an email already exists
    if (error === 'email_exists') {
        // Display a pop-up message
        alert('Email already exists. Please use a different email address.');
    }
    
    
    // Retrieve the error parameter from the URL
    const urlParams2 = new URLSearchParams(window.location.search);
    const error2 = urlParams.get('error');

    // Check if the error parameter indicates a phone number already exists
    if (error === 'phone_exists') {
        // Display a pop-up message
        alert('Phone number already exists. Please use a different phone number.');
    }
    
    //============================================================
    	
    // Function to display error message
    function showError(message) {
        var errorMessageDiv = document.getElementById("errorMessage");
        errorMessageDiv.innerHTML = "<div class='alert alert-danger'>" + message + "</div>";
        errorMessageDiv.style.display = "block";
    }

    // Retrieve the error parameter from the URL
    const urlParams4 = new URLSearchParams(window.location.search);
    const error4 = urlParams.get('error');

    // Display error message based on error code
    switch(error) {
        case 'name':
            showError("Invalid first name or last name format.");
            break;
        case 'username':
            showError("Invalid username format or length (minimum 6 characters).");
            break;
        case 'birthday':
            showError("Invalid birthday. Please select a date earlier than the current date.");
            break;
        case 'phone':
            showError("Invalid phone number format.");
            break;
        case 'password':
            showError("Invalid password. Password must be at least 6 characters long, contain at least one digit, one uppercase letter, and one special character, and match the retype password.");
            break;
        case 'duplicate':
            showError("Username, email, or phone number already exists. Please choose different credentials.");
            break;
        case 'general':
            showError("An error occurred. Please try again later.");
            break;
        default:
            break;
    }
    

</script>
</html>
